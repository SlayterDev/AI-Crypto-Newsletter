<mjml>
  <mj-head>
    <mj-title>{{title}} - {{date}}</mj-title>
    <mj-attributes>
      <mj-text font-family="Arial, sans-serif" font-size="14px" line-height="160%" color="#1e293b"/>
      <mj-section padding="20px"/>
    </mj-attributes>
  </mj-head>
  <mj-body background-color="#f4f4f4">
    <!-- Header -->
    <mj-section background-color="#1e293b" padding="30px 20px">
      <mj-column>
        <mj-text color="#ffffff" font-size="32px" font-weight="bold" align="center" padding-bottom="10px">
          ðŸ“Š {{title}}
        </mj-text>
        <mj-text color="#94a3b8" font-size="16px" align="center">
          {{date}}
        </mj-text>
      </mj-column>
    </mj-section>

    <!-- Summary Section -->
    <mj-section background-color="#ffffff" padding="25px 20px" border-radius="8px">
      <mj-column>
        <mj-text font-size="18px" font-weight="bold" color="#1e293b" padding-bottom="10px">
          ðŸ“ˆ Market Summary
        </mj-text>
        <mj-text color="#64748b" font-size="14px">
          Tracking {{coinCount}} cryptocurrencies with insights from the last 24 hours.
        </mj-text>
      </mj-column>
    </mj-section>

    <!-- Coin Summaries -->
    {{#each coins}}
    <mj-section background-color="#ffffff" padding="20px" border-radius="8px">
      <mj-column>
        <mj-divider border-color="#e2e8f0" border-width="2px" padding-bottom="15px"></mj-divider>

        <!-- Coin Header -->
        <mj-text font-size="24px" font-weight="bold" color="#1e293b" padding-bottom="8px">
          {{this.name}} ({{this.symbol}})
          <span style="color: {{this.color}}; font-size: 20px;">{{this.changeText}}</span>
        </mj-text>

        <!-- Price Info -->
        <mj-text font-size="15px" color="#64748b" padding-bottom="15px">
          Current Price: <strong style="color: #1e293b; font-size: 16px;">${{this.currentPrice}}</strong>
          <br/>
          24h Change: <strong style="color: {{this.color}}; font-size: 16px;">{{this.priceChange}}</strong>
        </mj-text>

        <!-- Summary -->
        <mj-text font-size="15px" color="#1e293b" line-height="180%" padding-bottom="10px">
          {{this.summary}}
        </mj-text>

        {{#if this.topNews}}
        <!-- Top News -->
        <mj-text font-size="13px" color="#64748b">
          <div style="padding: 10px 20px; background: #f8fafc;">
            <strong>ðŸ“° Top Headline:</strong>
            <br/>
            <a href="{{this.topNews.url}}" style="color: #3b82f6; text-decoration: none;">{{this.topNews.title}}</a>
            <br/>
            <em style="color: #94a3b8;">Source: {{this.topNews.source}}</em>
          </div>
        </mj-text>
        {{/if}}
      </mj-column>
    </mj-section>
    {{/each}}

    <!-- Footer -->
    <mj-section background-color="#f8fafc" padding="30px 20px">
      <mj-column>
        <mj-divider border-color="#e2e8f0" padding-bottom="20px"></mj-divider>
        <mj-text font-size="13px" color="#64748b" align="center" line-height="160%">
          <strong>Disclaimer:</strong> This newsletter is auto-generated for informational purposes only.
          <br/>
          Not financial advice. Always do your own research.
        </mj-text>
        <mj-text font-size="12px" color="#94a3b8" align="center" padding-top="15px">
          Data sources: CoinGecko, CryptoPanic, OpenAI
        </mj-text>
        <mj-text font-size="11px" color="#cbd5e1" align="center" padding-top="10px">
          Generated: {{generatedAt}}
        </mj-text>
      </mj-column>
    </mj-section>
  </mj-body>
</mjml>
